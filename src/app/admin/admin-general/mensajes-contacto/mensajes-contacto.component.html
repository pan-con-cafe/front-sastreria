<div class="mensajes-container">
  <h2 class="titulo">Mensajes de contacto</h2>

  <div class="grid-mensajes">
    <div class="mensaje-card" *ngFor="let msg of mensajes" [class.no-leido]="!msg.leido" (click)="verMensaje(msg)">
      <div class="contenido">
        <div class="izquierda">
          <span class="cliente-nombre">{{ msg.nombre }}</span>
          <p class="descripcion">{{ msg.mensaje | slice:0:50 }}{{ msg.mensaje.length > 50 ? '...' : '' }}</p>
        </div>
        <div class="derecha">
          <span class="fecha">{{ msg.fecha | date:'short' }}</span>
          <button class="btn-leido" *ngIf="!msg.leido" (click)="marcarComoLeido(msg); $event.stopPropagation()">Marcar</button>
          <button class="btn-eliminar" (click)="eliminarMensaje(msg); $event.stopPropagation()">ğŸ—‘ï¸</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" *ngIf="mensajeSeleccionado">
  <div class="modal">
    <h3>{{ mensajeSeleccionado.nombre }}</h3>
    <span class="email">{{ mensajeSeleccionado.email }}</span>
    <p class="mensaje-completo">{{ mensajeSeleccionado.mensaje }}</p>
    <button class="cerrar" (click)="cerrarModal()">Cerrar</button>
  </div>
</div>

<!-- MODAL DE CONFIRMACIÃ“N -->
<div class="modal-overlay" *ngIf="mensajeAEliminar">
  <div class="modal modal-confirm">
    <h3>Eliminar mensaje</h3>
    <p>Â¿EstÃ¡s seguro de eliminar el mensaje de <strong>{{ mensajeAEliminar.nombre }}</strong>?</p>
    <div class="modal-actions">
      <button class="btn-cancel" (click)="cancelarEliminar()">Cancelar</button>
      <button class="btn-confirm" (click)="confirmarEliminar()">Eliminar</button>
    </div>
  </div>
</div>

